<style>
.custom-offer-card {
  border-radius: 12px;
  margin: 10px auto;
  max-width: 100%;
  border:2px dashed  {{ block.settings.text_color }}; 
  display: flex;
  justify-content: space-between;
  align-items: center;
  font-family: 'Arial', sans-serif;

}
#couponCode{

}

.custom-offer-card .offer-left h2,
.custom-offer-card .offer-left p,
.custom-offer-card .offer-left span,
.custom-offer-card .offer-right .coupon-code,
.custom-offer-card .offer-right p {
  margin: 0;
}
</style>

<div class="custom-offer-card"
     style="background: {{ block.settings.bg_color }};
            color: {{ block.settings.text_color }};
            padding: {{ block.settings.card_padding }}px;">
  <div class="offer-left">
    <h2 style="color: {{ block.settings.discount_text_color }};
               font-size: {{ block.settings.discount_font_size }}px;">
      {{ block.settings.discount_text }}
    </h2>
    <p style="font-size: {{ block.settings.subtext_font_size }}px;">
      {{ block.settings.sub_text }}
    </p>
    <span style="font-size: {{ block.settings.desc_font_size }}px;">
      {{ block.settings.offer_detail }}
    </span>
  </div>
  <div class="offer-right">
    <span class="coupon-code"
          id="couponCode"
          style="color: {{ block.settings.button_color }};
                 font-size: {{ block.settings.coupon_font_size }}px;
                 
                 
                 border: 2px dashed;
    line-height: 1;
    padding: .7rem;
    display: inline-block;
    border-radius: 6px;
                 ">
      {{ block.settings.coupon_code }}
    </span>
    <p style="font-size: {{ block.settings.desc_font_size }}px;">
      {{ block.settings.expiry_text }}
    </p>
    <button class="copy-btn"
            style="background: {{ block.settings.button_color }};
                   color: {{ block.settings.button_text_color }};
                   padding: 6px 12px;
                   border: none;
                   border-radius: 6px;
                   font-weight: bold;
                   cursor: pointer;
                   margin-top: 5px;"
            onclick="navigator.clipboard.writeText('{{ block.settings.coupon_code }}').then(() => alert('Copied: {{ block.settings.coupon_code }}'))">
      Copy
    </button>
  </div>
</div>

{% schema %}
{
  "name": "DS-Offer Coupon Card",
  "target":"section",
  "settings": [
    {
      "type": "text",
      "id": "discount_text",
      "label": "Main Discount Text",
      "default": "20% OFF"
    },
    {
      "type": "color",
      "id": "discount_text_color",
      "label": "Discount Text Color",
      "default": "#ffffff"
    },
    {
      "type": "range",
      "id": "discount_font_size",
      "label": "Discount Font Size (px)",
      "min": 12,
      "max": 50,
      "step": 1,
      "default": 24
    },
    {
      "type": "text",
      "id": "sub_text",
      "label": "Sub Text",
      "default": "MAX $20.00"
    },
    {
      "type": "range",
      "id": "subtext_font_size",
      "label": "Sub Text Font Size (px)",
      "min": 10,
      "max": 30,
      "step": 1,
      "default": 14
    },
    {
      "type": "text",
      "id": "offer_detail",
      "label": "Offer Description",
      "default": "Christmas Week Discount"
    },
    {
      "type": "range",
      "id": "desc_font_size",
      "label": "Description Font Size (px)",
      "min": 10,
      "max": 30,
      "step": 1,
      "default": 13
    },
    {
      "type": "text",
      "id": "coupon_code",
      "label": "Coupon Code",
      "default": "BUYR"
    },
    {
      "type": "range",
      "id": "coupon_font_size",
      "label": "Coupon Code Font Size (px)",
      "min": 10,
      "max": 40,
      "step": 1,
      "default": 20
    },
    {
      "type": "text",
      "id": "expiry_text",
      "label": "Expiry Text",
      "default": "Coupon expires 03/12"
    },
    {
      "type": "color",
      "id": "bg_color",
      "label": "Background Color",
      "default": "#1a1a1a"
    },
    {
      "type": "color",
      "id": "text_color",
      "label": "General Text Color",
      "default": "#ffffff"
    },
    {
      "type": "color",
      "id": "button_color",
      "label": "Button Background Color & Coupon Code Color",
      "default": "#33ff66"
    },
    {
      "type": "color",
      "id": "button_text_color",
      "label": "Button Text Color",
      "default": "#000000"
    },
    {
      "type": "range",
      "id": "card_padding",
      "label": "Card Padding (px)",
      "min": 10,
      "max": 60,
      "step": 2,
      "default": 20
    }
  ]
}
{% endschema %}
<style>

  {{ block.settings.heading_font | font_face }} 

  :root {
    --font-family: {{ block.settings.heading_font.family }}, sans-serif;
    --font-style: {{ block.settings.heading_font.style }};
    --font-weight: {{ block.settings.heading_font.weight }};
    --background-color: {{block.settings.Background-color}};
    --text-color:{{block.settings.text-color}};
    --secondry-bg:{{block.settings.polygon}};
    --section-margin:{{block.settings.section-margin}}px;
    --polygon-text-color-1: {{ block.settings.polygon_text_color_1 }};
    --polygon-text-color-2: {{ block.settings.polygon_text_color_2 }};
    --polygon-text-color-3: {{ block.settings.polygon_text_color_3 }};
    --copy-btn-bg-1: {{ block.settings.copy_btn_bg_1 }};
    --copy-btn-text-1: {{ block.settings.copy_btn_text_1 }};
    --copy-btn-bg-2: {{ block.settings.copy_btn_bg_2 }};
    --copy-btn-text-2: {{ block.settings.copy_btn_text_2 }};
    --copy-btn-bg-3: {{ block.settings.copy_btn_bg_3 }};
    --copy-btn-text-3: {{ block.settings.copy_btn_text_3 }};
  }
    .coupon-container-main-div-9 {
        display: flex;
        align-items: center;
        justify-content: center;
        padding: 30px 0px;
        font-family:var(--font-family);
        font-style:var(--font-style);
        font-weight:var(--font-weight);
        position: relative;
        margin-bottom:var(--section-margin); 
        margin-top:var(--section-margin);
        flex-wrap: wrap;
    }

    .coupon-container-div-9 {
        width: 100%;
        height: 100px;
        background-color: var(--background-color);
        color: var(--text-color);
        display: flex;
        align-items: center;
        justify-content: space-between;
        border-radius: 10px;
    }
    .coupon-container-div-9+.coupon-container-div-9 {
        margin-top: 30px;
    }

    .main-content-9 {
        font-size: 21px;
        margin-bottom: 7px;
        font-weight: 700;
    }

    .content-div-9 {
        line-height: normal;
        padding-left: 6%;
    }

    .usecode-9 {
        font-size: 13px;
        display: flex;
        gap: 5px;
        align-items: center;
        justify-content: center;
    }

    .usecode-9 div {
        border: 1px dotted white;
        padding: 2px 4px;
    }

    .my-coupon-code-9 {
        font-weight: bold;
    }

    .copy-btn-9 {
        background-color: var(--secondry-bg);
        border-radius: 3px;
        padding: 2px 4px; 
    }

    .copy-btn-9:hover {
        cursor: pointer;
        background-color: white;
        color: black;
    }

    .polygon-9 {
        clip-path: polygon(100% 0, 100% 76%, 50% 100%, 0 76%, 0 0);
        background-color: var(--secondry-bg);
        width: 120px;
        height: 122px;
        position: relative;
        top: 10px;
        right: 20px;
        display: block !important;
    }

    .polygon-9 div {
        position: absolute;
        bottom: 45px;
        left: 50%;
        transform: translateX(-50%);
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        line-height: normal;
        text-align: center;
        width: 100%;
    }

    .polygon-9 span {
        font-size: 15px;
    }

    .polygon-9 b {
        font-size: 20px;
    }

    @media(max-width:767px){
        .coupon-container-div-9{width:95%;}
        .polygon-9{right: 8px;}
        .usecode-9{flex-direction: column; gap: 1rem;}
    }
</style> 
<div class="coupon-container-main-div-9">
    {% if block.settings.show_offer_1 %}
    <div class="coupon-container-div-9" style="background-color: {{ block.settings.bg_color_1 }}; color: {{ block.settings.text_color_1 }};">
        <div class="content-div-9">
            <div class="main-content-9">{{ block.settings.deal_title }}</div>
            <div class="usecode-9">
                <div>Use Code: <span class="my-coupon-code-9">{{ block.settings.coupon_code }}</span></div>
                <span class="copy-btn-9" style="background-color: var(--copy-btn-bg-1); color: var(--copy-btn-text-1);">Copy Code</span>
            </div>
        </div>
        <div class="polygon-9" style="background-color: {{ block.settings.polygon_color_1 }}; color: var(--polygon-text-color-1);">
            <div>
                <span>{{ block.settings.discount_text_top }}</span>
                <span><b>{{ block.settings.discount_amount }}</b></span>
                <span>{{ block.settings.discount_text_bottom }}</span>
            </div>
        </div>
    </div>
    {% endif %}
    {% if block.settings.show_offer_2 %}
    <div class="coupon-container-div-9" style="background-color: {{ block.settings.bg_color_2 }}; color: {{ block.settings.text_color_2 }};">
        <div class="content-div-9">
            <div class="main-content-9">{{ block.settings.deal_title_2 }}</div>
            <div class="usecode-9">
                <div>Use Code: <span class="my-coupon-code-9">{{ block.settings.coupon_code_2 }}</span></div>
                <span class="copy-btn-9" style="background-color: var(--copy-btn-bg-2); color: var(--copy-btn-text-2);">Copy Code</span>
            </div>
        </div>
        <div class="polygon-9" style="background-color: {{ block.settings.polygon_color_2 }}; color: var(--polygon-text-color-2);">
            <div>
                <span>{{ block.settings.discount_text_top_2 }}</span>
                <span><b>{{ block.settings.discount_amount_2 }}</b></span>
                <span>{{ block.settings.discount_text_bottom_2 }}</span>
            </div>
        </div>
    </div>
    {% endif %}
</div>

<script>
    document.querySelectorAll('.copy-btn-9').forEach(button => {
        button.addEventListener('click', function () {
            const couponCode = this.previousElementSibling.querySelector('.my-coupon-code-9').innerText;
            const tempInput = document.createElement('input');
            tempInput.value = couponCode;
            document.body.appendChild(tempInput);
            tempInput.select();
            tempInput.setSelectionRange(0, 99999);
            document.execCommand('copy');
            document.body.removeChild(tempInput);
            this.innerText = 'Code Copied';
            setTimeout(() => {
                this.innerText = 'Copy Code';
            }, 2000);
        });
    });
</script>

{% schema %}
{
  "name": "Offer With Copy Code",
  "target":"section",
  "settings": [
    { "type": "font_picker", "id": "heading_font", "label": "Font Family", "default": "helvetica_n4" },
    { "type": "range", "id": "font-size", "label": "Font Size", "min": 16, "max": 28, "step": 1, "unit": "px", "default": 16 },
    { "type": "range", "id": "section-margin", "min": 20, "max": 100, "step": 5, "unit": "px", "label": "Section Margin", "default": 40 },
    { "type": "header", "content": "Offer 1" },
    { "type": "checkbox", "id": "show_offer_1", "label": "Show Offer 1", "default": true },
    { "type": "text", "id": "deal_title", "label": "Main Title 1", "default": "Deal of the Day" },
    { "type": "text", "id": "coupon_code", "label": "Coupon Code 1", "default": "FLAT300" },
    { "type": "text", "id": "discount_text_top", "label": "Top Text (Polygon) 1", "default": "ADDITIONAL" },
    { "type": "text", "id": "discount_amount", "label": "Discount Amount 1", "default": "â‚¹300 Off" },
    { "type": "text", "id": "discount_text_bottom", "label": "Bottom Text (Polygon) 1", "default": "on all orders" },
    { "type": "color", "id": "bg_color_1", "label": "Background Color 1", "default": "#000000" },
    { "type": "color", "id": "polygon_color_1", "label": "Polygon/Copy Button Color 1", "default": "#fff" },
    { "type": "color", "id": "text_color_1", "label": "Text Color 1", "default": "#fff" },
    { "type": "header", "content": "Offer 2" },
    { "type": "checkbox", "id": "show_offer_2", "label": "Show Offer 2", "default": true },
    { "type": "text", "id": "deal_title_2", "label": "Main Title 2", "default": "Special Festive Offer" },
    { "type": "text", "id": "coupon_code_2", "label": "Coupon Code 2", "default": "FESTIVE20" },
    { "type": "text", "id": "discount_text_top_2", "label": "Top Text (Polygon) 2", "default": "EXTRA" },
    { "type": "text", "id": "discount_amount_2", "label": "Discount Amount 2", "default": "20% Off" },
    { "type": "text", "id": "discount_text_bottom_2", "label": "Bottom Text (Polygon) 2", "default": "on select items" },
    { "type": "color", "id": "bg_color_2", "label": "Background Color 2", "default": "#000000" },
    { "type": "color", "id": "polygon_color_2", "label": "Polygon/Copy Button Color 2", "default": "#fff" },
    { "type": "color", "id": "text_color_2", "label": "Text Color 2", "default": "#fff" }
  ]
}
{% endschema %}